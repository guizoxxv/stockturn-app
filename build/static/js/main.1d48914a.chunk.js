(this["webpackJsonpproducts-front"]=this["webpackJsonpproducts-front"]||[]).push([[0],{100:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(40),r=a.n(s),l=(a(100),a(21)),i=a(10),o=a(2),d=a.n(o),j=a(3),b=a(5),u=a(4);function m(e){var t={};return e.inner.forEach((function(e){var a,c=null===(a=e.path)||void 0===a?void 0:a.split(".");c&&(t[c[0]]=e.message)})),t}var p=a(8),O=a(9),h=a(14),x=a.n(h),v=".local.test",f="https://stockturn-api.guizo.dev.br",g="@".concat("productApp",":flashMessage"),N=a(59);function k(e){return w.apply(this,arguments)}function w(){return(w=Object(b.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,e.next=3,x.a.get(f+"/sanctum/csrf-cookie");case 3:return e.next=5,x.a.post(f+"/login",{email:a.trim(),password:c.trim()});case 5:return e.next=7,y();case 7:return n=e.sent,e.abrupt("return",{username:n.name,email:n.email});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(f+"/api/user");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(f+"/logout");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"?"+N.stringify(t):"",e.next=3,x.a.get(f+"/api/products".concat(a));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete(f+"/api/products/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(f+"/api/products",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put(f+"/api/products/".concat(t.id),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"?"+N.stringify(t):"",e.next=3,x.a.get(f+"/api/uploads".concat(a));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(f+"/api/uploads",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(250),A=a(0),B=Object(c.createContext)({}),K=function(e){var t=e.children,a=Object(V.a)(["XSRF-TOKEN","stockturn_api_session"]),n=Object(u.a)(a,3),s=n[0],r=n[2],l=Object(c.useState)({}),i=Object(u.a)(l,2),o=i[0],j=i[1],m=Object(c.useState)(!1),p=Object(u.a)(m,2),O=p[0],h=p[1],x=Object(c.useCallback)((function(){r("XSRF-TOKEN",{path:"/",domain:v}),r("stockturn_api_session",{path:"/",domain:v})}),[r]);Object(c.useEffect)((function(){!O&&s["XSRF-TOKEN"]&&y().then((function(e){h(!0),j({username:e.name,email:e.email})})).catch((function(e){console.log("Fail to get logged user. Clearing cookies."),x(),j({})}))}));var f=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:a=e.sent,j(a),h(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),g=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:return e.prev=8,x(),j({}),h(!1),e.finish(8);case 13:case"end":return e.stop()}}),e,null,[[0,5,8,13]])}))),[x]);return Object(A.jsx)(B.Provider,{value:{logged:O,authData:o,login:f,logout:g},children:t})};function H(){var e=localStorage.getItem(g);if(e){var t=JSON.parse(e),a=t.level,c=t.message;Object(O.a)(c,{type:a||"info"}),localStorage.removeItem(g)}}var G=a(11),J=a(12),X=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(u.a)(s,2),l=r[0],i=r[1],o=Object(c.useState)(null),h=Object(u.a)(o,2),x=h[0],v=h[1],f=Object(c.useContext)(B).login;function g(){return(g=Object(b.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c=p.d().shape({email:p.e().email().required(),password:p.e().required()}),e.next=5,c.validate({email:a,password:l},{abortEarly:!1});case 5:return e.next=7,f({email:a,password:l});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0 instanceof p.a?(n=m(e.t0),v(n)):O.a.error("Fail to login");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){H()}),[]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"text-center mb-0",children:[Object(A.jsx)(G.a,{icon:J.a,size:"5x"}),Object(A.jsx)("h5",{children:"Products App"})]}),Object(A.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(A.jsx)("form",{className:"card",onSubmit:function(e){return g.apply(this,arguments)},children:Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsxs)("div",{className:"form-group mb-3",children:[Object(A.jsx)("label",{htmlFor:"email",className:"mb-0",children:Object(A.jsxs)("small",{children:["Email",Object(A.jsx)("span",{className:"text-danger",children:"*"})]})}),Object(A.jsx)("input",{id:"username",type:"text",className:"form-control ".concat((null===x||void 0===x?void 0:x.email)?"is-invalid":""),value:a,onChange:function(e){return t=e.target.value,(null===x||void 0===x?void 0:x.email)&&v(Object(j.a)(Object(j.a)({},x),{},{email:""})),void n(t);var t}}),(null===x||void 0===x?void 0:x.email)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:x.email})})]}),Object(A.jsxs)("div",{className:"form-group mb-3",children:[Object(A.jsx)("label",{htmlFor:"password",className:"mb-0",children:Object(A.jsxs)("small",{children:["Password",Object(A.jsx)("span",{className:"text-danger",children:"*"})]})}),Object(A.jsx)("input",{id:"password",type:"password",className:"form-control ".concat((null===x||void 0===x?void 0:x.password)?"is-invalid":""),value:l,onChange:function(e){return t=e.target.value,(null===x||void 0===x?void 0:x.password)&&v(Object(j.a)(Object(j.a)({},x),{},{password:""})),void i(t);var t}}),(null===x||void 0===x?void 0:x.password)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:x.password})})]}),Object(A.jsx)("div",{className:"text-center",children:Object(A.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]})})})]})},Y=a(7),W=a.n(Y),$=function(){var e=Object(c.useContext)(B).logout,t=function(){var t=Object(b.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W()("#logoutModal").modal("hide"),t.next=3,e();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsx)("div",{className:"modal fade",id:"logoutModal",tabIndex:-1,"aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsx)("div",{className:"text-center",children:"Confirm logout?"})}),Object(A.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"No"}),Object(A.jsx)("button",{type:"button",className:"btn btn-success",onClick:t,children:"Yes"})]})]})})})},Q=function(){var e=Object(c.useContext)(B).authData,t=Object(i.g)().pathname;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("header",{className:"mb-4",children:Object(A.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-white shadow-sm",children:Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)(l.b,{className:"navbar-brand",to:"/",children:Object(A.jsx)(G.a,{icon:J.a,size:"2x"})}),Object(A.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(A.jsx)("span",{className:"navbar-toggler-icon"})}),Object(A.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(A.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(A.jsx)("li",{className:"nav-item ".concat("/"===t?"active":""),children:Object(A.jsx)(l.b,{className:"nav-link",to:"/",children:"Products"})}),Object(A.jsx)("li",{className:"nav-item ".concat("/uploads"===t?"active":""),children:Object(A.jsx)(l.b,{className:"nav-link",to:"/uploads",children:"Uploads"})})]}),Object(A.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(A.jsxs)("li",{className:"nav-item dropdown",children:[Object(A.jsxs)("button",{id:"navbarDropdown",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e.username," ",Object(A.jsx)("span",{className:"caret"})]}),Object(A.jsx)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"navbarDropdown",children:Object(A.jsx)("button",{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",children:"Logout"})})]})})]})]})})}),Object(A.jsx)($,{})]})},Z=Object(c.createContext)({}),ee=function(e){var t=e.children,a=Object(c.useState)({}),n=Object(u.a)(a,2),s=n[0],r=n[1];return Object(A.jsx)(Z.Provider,{value:{pagination:s,setPagination:r},children:t})},te=Object(c.createContext)({}),ae=function(e){var t=e.children,a=Object(c.useState)([]),n=Object(u.a)(a,2),s=n[0],r=n[1],l=Object(c.useState)({}),i=Object(u.a)(l,2),o=i[0],j=i[1],m=Object(c.useContext)(Z).setPagination,p=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){var t,a,c,n,s,l,i,j,b,u,p,h,x,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(o);case 3:t=e.sent,a=t.data,c=t.current_page,n=t.first_page_url,s=t.from,l=t.last_page,i=t.last_page_url,j=t.links,b=t.next_page_url,u=t.path,p=t.per_page,h=t.prev_page_url,x=t.to,v=t.total,r(a),m({current_page:c,first_page_url:n,from:s,last_page:l,last_page_url:i,links:j,next_page_url:b,path:u,per_page:p,prev_page_url:h,to:x,total:v}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O.a.error("Fail to get products");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[o,m]),h=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:return e.next=5,p();case 5:O.a.success("Product deleted"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.error("Fail to delete product");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[p]),x=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:return e.next=5,p();case 5:O.a.success("Product created"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.error("Fail to create product");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[p]),v=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return e.next=5,p();case 5:O.a.success("Product updated"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.error("Fail to update product");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[p]);return Object(A.jsx)(te.Provider,{value:{products:s,filters:o,setFilters:j,getProducts:p,deleteProduct:h,createProduct:x,editProduct:v},children:t})},ce=function(e){var t=e.product;return Object(A.jsx)("div",{className:"modal fade",id:"viewProductModal",tabIndex:-1,"aria-labelledby":"viewProductModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"viewProductModalLabel",children:"View Product"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsxs)("div",{className:"modal-body",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Id:"})," ",Object(A.jsx)("span",{children:t.id})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Name:"})," ",Object(A.jsx)("span",{children:t.name})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"SKU:"})," ",Object(A.jsx)("span",{children:t.sku})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Price:"})," ",Object(A.jsx)("span",{children:t.price})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Stock:"})," ",Object(A.jsx)("span",{children:t.stock})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Creation date:"})," ",Object(A.jsx)("span",{children:new Date(t.created_at).toLocaleString()})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Last update date:"})," ",Object(A.jsx)("span",{children:new Date(t.updated_at).toLocaleString()})]})]})]})})})},ne=function(e){var t=e.product,a=Object(c.useContext)(te).deleteProduct,n=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.id);case 2:W()("#deleteProductModal").modal("hide");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)("div",{className:"modal fade",id:"deleteProductModal",tabIndex:-1,"aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("div",{className:"text-center",children:['Confirm product "',t.name,'" deletion?']})}),Object(A.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"No"}),Object(A.jsx)("button",{type:"button",className:"btn btn-success",onClick:n,children:"Yes"})]})]})})})},se=function(e){var t=e.product,a=Object(c.useContext)(te).editProduct,n=Object(c.useState)(""),s=Object(u.a)(n,2),r=s[0],l=s[1],i=Object(c.useState)(""),o=Object(u.a)(i,2),h=o[0],x=o[1],v=Object(c.useState)(""),f=Object(u.a)(v,2),g=f[0],N=f[1],k=Object(c.useState)(null),w=Object(u.a)(k,2),y=w[0],C=w[1];function S(){return(S=Object(b.a)(d.a.mark((function e(c){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,n=p.d().shape({name:p.e().notRequired(),price:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().positive(),stock:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().integer().positive()}),e.next=5,n.validate({name:r,price:h,stock:g},{abortEarly:!1});case 5:return e.next=7,a({id:t.id,name:r,price:parseFloat(h),stock:parseInt(g)});case 7:W()("#editProductModal").modal("hide"),P(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof p.a?(s=m(e.t0),C(s)):O.a.error("Invalid form data");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function P(){l(""),x(""),N("")}return Object(c.useEffect)((function(){t.name&&l(t.name),t.price&&x(t.price.toString()),t.stock&&N(t.stock.toString())}),[t]),Object(A.jsx)("div",{className:"modal fade",id:"editProductModal",tabIndex:-1,"aria-labelledby":"editProductModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"editProductModalLabel",children:"Edit Product"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("form",{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"name",className:"mb-0",children:Object(A.jsx)("small",{children:"Name"})}),Object(A.jsx)("input",{id:"name",type:"text",className:"form-control ".concat((null===y||void 0===y?void 0:y.name)?"is-invalid":""),value:r,onChange:function(e){return t=e.target.value,(null===y||void 0===y?void 0:y.name)&&C(Object(j.a)(Object(j.a)({},y),{},{name:""})),void l(t);var t}}),(null===y||void 0===y?void 0:y.name)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:y.name})})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"price",className:"mb-0",children:Object(A.jsx)("small",{children:"Price"})}),Object(A.jsx)("input",{id:"price",type:"number",className:"form-control ".concat((null===y||void 0===y?void 0:y.price)?"is-invalid":""),value:h,onChange:function(e){return t=e.target.value,(null===y||void 0===y?void 0:y.price)&&C(Object(j.a)(Object(j.a)({},y),{},{price:""})),void x(t);var t}}),(null===y||void 0===y?void 0:y.price)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:y.price})})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"stock",className:"mb-0",children:Object(A.jsx)("small",{children:"Stock"})}),Object(A.jsx)("input",{id:"stock",type:"number",className:"form-control ".concat((null===y||void 0===y?void 0:y.stock)?"is-invalid":""),value:g,onChange:function(e){return t=e.target.value,(null===y||void 0===y?void 0:y.stock)&&C(Object(j.a)(Object(j.a)({},y),{},{stock:""})),void N(t);var t}}),(null===y||void 0===y?void 0:y.stock)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:y.stock})})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-around form-group mb-0",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Update"})]})]})})]})})})},re=a(94),le=function(e){var t=e.product,a=t.stockTimeline,c=[],n=[];null===a||void 0===a||a.forEach((function(e){var t=new Date(e.date).toLocaleDateString();c.push(e.stock),n.push(t)}));var s={labels:n,datasets:[{data:c,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]};return Object(A.jsx)("div",{className:"modal fade",id:"viewStockTimelineModal",tabIndex:-1,"aria-labelledby":"viewStockTimelineModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"viewStockTimelineModalLabel",children:"View Stock Timeline"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsxs)("div",{className:"modal-body",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Id:"})," ",Object(A.jsx)("span",{children:t.id})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Name:"})," ",Object(A.jsx)("span",{children:t.name})]}),Object(A.jsx)("div",{className:"mt-3",children:c.length>0?Object(A.jsx)(re.Line,{data:s,options:{legend:{display:!1}}}):Object(A.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(A.jsx)("div",{className:"alert alert-warning",role:"alert",children:"No data available"})})})]})]})})})},ie=function(){var e=Object(c.useContext)(te),t=e.products,a=e.getProducts,n=Object(c.useState)({}),s=Object(u.a)(n,2),r=s[0],l=s[1];Object(c.useEffect)((function(){a()}),[a]);var i=Object(c.useCallback)((function(e){l(e),W()("#viewProductModal").modal("show")}),[]),o=Object(c.useCallback)((function(e){l(e),W()("#deleteProductModal").modal("show")}),[]),d=Object(c.useCallback)((function(e){l(e),W()("#editProductModal").modal("show")}),[]),j=Object(c.useCallback)((function(e){l(e),W()("#viewStockTimelineModal").modal("show")}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("table",{className:"table table-bordered table-striped table-hover table-responsive-sm",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{className:"text-center",children:[Object(A.jsx)("th",{scope:"col",children:"Id"}),Object(A.jsx)("th",{scope:"col",children:"Name"}),Object(A.jsx)("th",{scope:"col",children:"Price ($)"}),Object(A.jsx)("th",{scope:"col",children:"Stock"}),Object(A.jsx)("th",{scope:"col",children:"Creation Date"}),Object(A.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(A.jsx)("tbody",{children:t.map((function(e){return Object(A.jsxs)("tr",{className:"text-center",children:[Object(A.jsx)("th",{scope:"row",className:"text-center",children:e.id}),Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.price}),Object(A.jsx)("td",{children:e.stock}),Object(A.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),Object(A.jsxs)("td",{children:[Object(A.jsx)("button",{className:"btn btn-sm btn-primary m-1",title:"View",onClick:function(){return i(e)},children:Object(A.jsx)(G.a,{icon:J.f,size:"1x"})}),Object(A.jsx)("button",{className:"btn btn-sm btn-warning m-1",title:"View stock timeline",onClick:function(){return j(e)},children:Object(A.jsx)(G.a,{icon:J.b,size:"1x"})}),Object(A.jsx)("button",{className:"btn btn-sm btn-secondary m-1",title:"Edit",onClick:function(){return d(e)},children:Object(A.jsx)(G.a,{icon:J.h,size:"1x"})}),Object(A.jsx)("button",{className:"btn btn-sm btn-danger m-1",title:"Delete",onClick:function(){return o(e)},children:Object(A.jsx)(G.a,{icon:J.k,size:"1x"})})]})]},e.id)}))})]}),Object(A.jsx)(ce,{product:r}),Object(A.jsx)(ne,{product:r}),Object(A.jsx)(se,{product:r}),Object(A.jsx)(le,{product:r})]})},oe=function(){var e,t=Object(c.useContext)(Z).pagination,a=Object(c.useContext)(te),n=a.filters,s=a.setFilters,r=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(j.a)(Object(j.a)({},n),{},{page:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,s]);return Object(A.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(A.jsx)("nav",{"aria-label":"Products pagination",children:Object(A.jsxs)("ul",{className:"pagination",children:[Object(A.jsx)("li",{className:"page-item",title:"First page",children:Object(A.jsx)("button",{className:"page-link","aria-label":"Previous",onClick:function(){return r(1)},children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),null===t||void 0===t||null===(e=t.links)||void 0===e?void 0:e.filter((function(e){return parseInt(e.label)})).map((function(e,t){return Object(A.jsx)("li",{className:"page-item ".concat(e.active?"active":""," ").concat(e.url?"":"disabled"),children:Object(A.jsx)("button",{className:"page-link",onClick:function(){return r(parseInt(e.label))},dangerouslySetInnerHTML:{__html:e.label}})},t)})),Object(A.jsx)("li",{className:"page-item",title:"Last page",children:Object(A.jsx)("button",{className:"page-link","aria-label":"Next",onClick:function(){return r(t.last_page)},children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})},de=function(){var e=Object(c.useContext)(te).createProduct,t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),l=Object(u.a)(r,2),i=l[0],o=l[1],h=Object(c.useState)(""),x=Object(u.a)(h,2),v=x[0],f=x[1],g=Object(c.useState)(null),N=Object(u.a)(g,2),k=N[0],w=N[1];function y(){return(y=Object(b.a)(d.a.mark((function t(a){var c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,c=p.d().shape({name:p.e().required(),price:p.c().transform((function(e){return isNaN(e)?void 0:e})).required().positive(),stock:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().integer().positive()}),t.next=5,c.validate({name:n,price:i,stock:v},{abortEarly:!1});case 5:return t.next=7,e({name:n,price:parseFloat(i),stock:parseInt(v)||void 0});case 7:W()("#createProductModal").modal("hide"),C(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),t.t0 instanceof p.a?(s=m(t.t0),w(s)):O.a.error("Invalid form data");case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function C(){s(""),o(""),f("")}return Object(A.jsx)("div",{className:"modal fade",id:"createProductModal",tabIndex:-1,"aria-labelledby":"createProductModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"createProductModalLabel",children:"Create Product"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"name",className:"mb-0",children:Object(A.jsxs)("small",{children:["Name",Object(A.jsx)("span",{className:"text-danger",children:"*"})]})}),Object(A.jsx)("input",{id:"name",type:"text",className:"form-control ".concat((null===k||void 0===k?void 0:k.name)?"is-invalid":""),value:n,onChange:function(e){return t=e.target.value,(null===k||void 0===k?void 0:k.name)&&w(Object(j.a)(Object(j.a)({},k),{},{name:""})),void s(t);var t}}),(null===k||void 0===k?void 0:k.name)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:k.name})})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"price",className:"mb-0",children:Object(A.jsxs)("small",{children:["Price",Object(A.jsx)("span",{className:"text-danger",children:"*"})]})}),Object(A.jsx)("input",{id:"price",type:"number",className:"form-control ".concat((null===k||void 0===k?void 0:k.price)?"is-invalid":""),value:i,onChange:function(e){return t=e.target.value,(null===k||void 0===k?void 0:k.price)&&w(Object(j.a)(Object(j.a)({},k),{},{price:""})),void o(t);var t}}),(null===k||void 0===k?void 0:k.price)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:k.price})})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"stock",className:"mb-0",children:Object(A.jsx)("small",{children:"Stock"})}),Object(A.jsx)("input",{id:"stock",type:"number",className:"form-control ".concat((null===k||void 0===k?void 0:k.stock)?"is-invalid":""),value:v,onChange:function(e){return t=e.target.value,(null===k||void 0===k?void 0:k.stock)&&w(Object(j.a)(Object(j.a)({},k),{},{stock:""})),void f(t);var t}}),(null===k||void 0===k?void 0:k.stock)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:k.stock})})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-around form-group mb-0",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Create"})]})]})})]})})})},je=function(){var e=Object(c.useContext)(te),t=e.filters,a=e.setFilters,n=Object(c.useState)(t.name||""),s=Object(u.a)(n,2),r=s[0],l=s[1],i=Object(c.useState)(t.sku||""),o=Object(u.a)(i,2),h=o[0],x=o[1],v=Object(c.useState)(t.fromPrice||""),f=Object(u.a)(v,2),g=f[0],N=f[1],k=Object(c.useState)(t.toPrice||""),w=Object(u.a)(k,2),y=w[0],C=w[1],S=Object(c.useState)(t.fromStock||""),P=Object(u.a)(S,2),F=P[0],_=P[1],D=Object(c.useState)(t.toStock||""),M=Object(u.a)(D,2),L=M[0],I=M[1],E=Object(c.useState)(t.fromDate||""),R=Object(u.a)(E,2),z=R[0],T=R[1],q=Object(c.useState)(t.toDate||""),U=Object(u.a)(q,2),V=U[0],B=U[1],K=Object(c.useState)(null),H=Object(u.a)(K,2),G=H[0],J=H[1];function X(){return(X=Object(b.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c=p.d().shape({name:p.e().notRequired(),sku:p.e().notRequired(),fromPrice:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().positive(),toPrice:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().positive(),fromStock:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().positive(),toStock:p.c().transform((function(e){return isNaN(e)?void 0:e})).notRequired().positive(),fromDate:p.b().transform((function(e){return isNaN(Date.parse(e))?void 0:e})).notRequired(),toDate:p.b().transform((function(e){return isNaN(Date.parse(e))?void 0:e})).notRequired()}),e.next=5,c.validate({name:r,sku:h,fromPrice:g,toPrice:y,fromStock:F,toStock:L,fromDate:z,toDate:V},{abortEarly:!1});case 5:return e.next=7,a(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},r&&{name:r}),h&&{sku:h}),g&&{fromPrice:g}),y&&{toPrice:y}),F&&{fromStock:F}),L&&{toStock:L}),z&&{fromDate:z}),V&&{toDate:V}));case 7:W()("#filterProductModal").modal("hide"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0 instanceof p.a?(n=m(e.t0),J(n)):O.a.error("Invalid form data");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Y(){return(Y=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({}),l(""),x(""),N(""),C(""),_(""),I(""),T(""),B("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){t.name&&l(t.name)}),[t]),Object(A.jsx)("div",{className:"modal fade",id:"filterProductModal",tabIndex:-1,"aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsx)("div",{className:"modal-header",children:Object(A.jsx)("h5",{className:"modal-title",id:"filterProductModalLabel",children:"Filter Products"})}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("form",{onSubmit:function(e){return X.apply(this,arguments)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"name",className:"mb-0",children:Object(A.jsx)("small",{children:"Name"})}),Object(A.jsx)("input",{id:"name",type:"text",className:"form-control ".concat((null===G||void 0===G?void 0:G.name)?"is-invalid":""),value:r,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.name)&&J(Object(j.a)(Object(j.a)({},G),{},{name:""})),void l(t);var t}}),(null===G||void 0===G?void 0:G.name)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:G.name})})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"sku",className:"mb-0",children:Object(A.jsx)("small",{children:"SKU"})}),Object(A.jsx)("input",{id:"name",type:"text",className:"form-control ".concat((null===G||void 0===G?void 0:G.sku)?"is-invalid":""),value:h,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.sku)&&J(Object(j.a)(Object(j.a)({},G),{},{sku:""})),void x(t);var t}}),(null===G||void 0===G?void 0:G.sku)&&Object(A.jsx)("span",{className:"invalid-feedback",role:"alert",children:Object(A.jsx)("strong",{children:G.sku})})]}),Object(A.jsxs)("div",{className:"form-row mb-3 is-invalid",children:[Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"fromPrice",className:"mb-0",children:Object(A.jsx)("small",{children:"From price"})}),Object(A.jsx)("input",{id:"fromPrice",className:"form-control",type:"number",value:g,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.fromPrice)&&J(Object(j.a)(Object(j.a)({},G),{},{fromPrice:""})),void N(t);var t}}),(null===G||void 0===G?void 0:G.fromPrice)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.fromPrice})})]}),Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"toPrice",className:"mb-0",children:Object(A.jsx)("small",{children:"To price"})}),Object(A.jsx)("input",{id:"toPrice",className:"form-control",type:"number",value:y,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.toPrice)&&J(Object(j.a)(Object(j.a)({},G),{},{toPrice:""})),void C(t);var t}}),(null===G||void 0===G?void 0:G.toPrice)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.toPrice})})]})]}),Object(A.jsxs)("div",{className:"form-row mb-3",children:[Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"fromStock",className:"mb-0",children:Object(A.jsx)("small",{children:"From stock"})}),Object(A.jsx)("input",{id:"fromStock",className:"form-control",type:"number",value:F,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.fromStock)&&J(Object(j.a)(Object(j.a)({},G),{},{fromStock:""})),void _(t);var t}}),(null===G||void 0===G?void 0:G.fromStock)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.fromStock})})]}),Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"toStock",className:"mb-0",children:Object(A.jsx)("small",{children:"To stock"})}),Object(A.jsx)("input",{id:"toStock",className:"form-control",type:"number",value:L,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.toStock)&&J(Object(j.a)(Object(j.a)({},G),{},{toStock:""})),void I(t);var t}}),(null===G||void 0===G?void 0:G.toStock)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.toStock})})]})]}),Object(A.jsxs)("div",{className:"form-row mb-3",children:[Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"fromDate",className:"mb-0",children:Object(A.jsx)("small",{children:"From date"})}),Object(A.jsx)("input",{id:"fromDate",className:"form-control",type:"date",value:z,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.fromDate)&&J(Object(j.a)(Object(j.a)({},G),{},{fromDate:""})),void T(t);var t}}),(null===G||void 0===G?void 0:G.fromDate)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.fromDate})})]}),Object(A.jsxs)("div",{className:"col",children:[Object(A.jsx)("label",{htmlFor:"toDate",className:"mb-0",children:Object(A.jsx)("small",{children:"To date"})}),Object(A.jsx)("input",{id:"toDate",className:"form-control",type:"date",value:V,onChange:function(e){return t=e.target.value,(null===G||void 0===G?void 0:G.toDate)&&J(Object(j.a)(Object(j.a)({},G),{},{toDate:""})),void B(t);var t}}),(null===G||void 0===G?void 0:G.toDate)&&Object(A.jsx)("span",{className:"invalid-feedback d-inline-block",role:"alert",children:Object(A.jsx)("strong",{children:G.toDate})})]})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-around form-group mb-0",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"}),Object(A.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return Y.apply(this,arguments)},children:"Clear"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Filter"})]})]})})]})})})},be=Object(c.createContext)({}),ue=function(e){var t=e.children,a=Object(c.useState)([]),n=Object(u.a)(a,2),s=n[0],r=n[1],l=Object(c.useState)({}),i=Object(u.a)(l,2),o=i[0],j=i[1],m=Object(c.useContext)(Z).setPagination,p=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){var t,a,c,n,s,l,i,j,b,u,p,h,x,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(o);case 3:t=e.sent,a=t.data,c=t.current_page,n=t.first_page_url,s=t.from,l=t.last_page,i=t.last_page_url,j=t.links,b=t.next_page_url,u=t.path,p=t.per_page,h=t.prev_page_url,x=t.to,v=t.total,r(a),m({current_page:c,first_page_url:n,from:s,last_page:l,last_page_url:i,links:j,next_page_url:b,path:u,per_page:p,prev_page_url:h,to:x,total:v}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O.a.error("Fail to get uploads");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[o,m]),h=Object(c.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:return e.next=5,p();case 5:O.a.info("File uploaded"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.error("Fail to upload file");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[p]),x=Object(c.useCallback)(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.open(f+"/api/uploads/actions/get-sample-csv"),O.a.info("Sample downloaded")}catch(t){O.a.error("Fail to download sample")}case 1:case"end":return e.stop()}}),e)}))),[]);return Object(A.jsx)(be.Provider,{value:{uploads:s,filters:o,setFilters:j,getUploads:p,uploadCsv:h,donwnloadSample:x},children:t})},me=function(){var e=Object(c.useContext)(be).uploadCsv,t=Object(c.useState)(void 0),a=Object(u.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(null),l=Object(u.a)(r,2),i=l[0],o=l[1];function m(){return(m=Object(b.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(c=new FormData).append("file",n),t.next=5,e(c);case 5:W()("#uploadProductsCsvModal").modal("hide"),p();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){s(void 0),W()("#file").val("")}return Object(A.jsx)("div",{className:"modal fade",id:"uploadProductsCsvModal",tabIndex:-1,"aria-labelledby":"uploadProductsCsvModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"uploadProductsCsvModalLabel",children:"Upload CSV"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"file",children:"File"}),Object(A.jsx)("input",{type:"file",className:"form-control-file",id:"file",onChange:function(e){var t,a,c;return c=null===(t=e.target)||void 0===t||null===(a=t.files)||void 0===a?void 0:a[0],(null===i||void 0===i?void 0:i.file)&&o(Object(j.a)(Object(j.a)({},i),{},{file:void 0})),void s(c)}}),Object(A.jsx)("small",{id:"fileHelpBlock",className:"form-text text-muted",children:"File must be .csv < 10Mb size"})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-around form-group mb-0",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Upload"})]})]})})]})})})},pe=function(){var e=Object(c.useContext)(te).filters,t=Object(c.useContext)(Z).pagination,a=Object(c.useCallback)((function(){W()("#createProductModal").modal("show")}),[]),n=Object(c.useCallback)((function(){W()("#filterProductModal").modal("show")}),[]),s=Object(c.useCallback)((function(){return Object.keys(e).filter((function(e){return!["page","limit"].includes(e)})).length}),[e]),r=Object(c.useCallback)((function(){return t.total||0}),[t]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Q,{}),Object(A.jsxs)("main",{className:"container",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(A.jsxs)("h4",{className:"mb-0",children:["Products List",Object(A.jsx)("span",{className:"badge bg-secondary ml-2",children:r()})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-wrap",children:[Object(A.jsxs)("button",{className:"btn btn-info m-1",onClick:n,children:[Object(A.jsx)(G.a,{icon:J.g,size:"1x",className:"mr-1"}),Object(A.jsx)("span",{className:"mr-1",children:"Filter"}),Object(A.jsx)("span",{className:"badge bg-secondary",children:s()})]}),Object(A.jsxs)("button",{className:"btn btn-success m-1",onClick:a,children:[Object(A.jsx)(G.a,{icon:J.i,size:"1x",className:"mr-1"}),"Create"]})]})]}),Object(A.jsx)(ie,{}),Object(A.jsx)(oe,{})]}),Object(A.jsx)(de,{}),Object(A.jsx)(me,{}),Object(A.jsx)(je,{})]})},Oe=function(e){var t=e.upload;return Object(A.jsx)("div",{className:"modal fade",id:"viewUploadModal",tabIndex:-1,"aria-labelledby":"viewUploadModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"viewUploadModalLabel",children:"View Upload"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsxs)("div",{className:"modal-body",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Id:"})," ",Object(A.jsx)("span",{children:t.id})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Path:"})," ",Object(A.jsx)("span",{children:t.path})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Size:"})," ",Object(A.jsx)("span",{children:t.size})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Type:"})," ",Object(A.jsx)("span",{children:t.type})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Status:"})," ",Object(A.jsx)("span",{children:t.status})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Creation date:"})," ",Object(A.jsx)("span",{children:new Date(t.created_at).toLocaleString()})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{className:"font-weight-bold",children:"Last update date:"})," ",Object(A.jsx)("span",{children:new Date(t.updated_at).toLocaleString()})]})]})]})})})},he=function(){var e=Object(c.useContext)(be),t=e.uploads,a=e.getUploads,n=Object(c.useState)({}),s=Object(u.a)(n,2),r=s[0],l=s[1];Object(c.useEffect)((function(){a()}),[a]);var i=Object(c.useCallback)((function(e){l(e),W()("#viewUploadModal").modal("show")}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("table",{className:"table table-bordered table-striped table-hover table-responsive-sm",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{className:"text-center",children:[Object(A.jsx)("th",{scope:"col",children:"Id"}),Object(A.jsx)("th",{scope:"col",children:"Path"}),Object(A.jsx)("th",{scope:"col",children:"Creation Date"}),Object(A.jsx)("th",{scope:"col",children:"Status"}),Object(A.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(A.jsx)("tbody",{children:t.map((function(e){return Object(A.jsxs)("tr",{className:"text-center",children:[Object(A.jsx)("th",{scope:"row",className:"text-center",children:e.id}),Object(A.jsx)("td",{children:e.path}),Object(A.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),Object(A.jsx)("td",{children:(t=e.status,"CREATED"===t?Object(A.jsx)(G.a,{icon:J.d,size:"2x",title:"Created",className:"text-info"}):"PROCESSED"===t?Object(A.jsx)(G.a,{icon:J.c,size:"2x",title:"Processed",className:"text-success"}):"ERROR"===t?Object(A.jsx)(G.a,{icon:J.j,size:"2x",title:"Error",className:"text-danger"}):Object(A.jsx)("span",{children:"'-'"}))}),Object(A.jsx)("td",{children:Object(A.jsx)("button",{className:"btn btn-sm btn-primary m-1",title:"View",onClick:function(){return i(e)},children:Object(A.jsx)(G.a,{icon:J.f,size:"1x"})})})]},e.id);var t}))})]}),Object(A.jsx)(Oe,{upload:r})]})},xe=function(){var e=Object(c.useContext)(be),t=e.uploadCsv,a=e.donwnloadSample,n=Object(c.useState)(void 0),s=Object(u.a)(n,2),r=s[0],l=s[1],i=Object(c.useState)(null),o=Object(u.a)(i,2),m=o[0],p=o[1];function O(){return(O=Object(b.a)(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(c=new FormData).append("file",r),e.next=5,t(c);case 5:W()("#uploadCsvModal").modal("hide"),x();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){l(void 0),W()("#file").val("")}return Object(A.jsx)("div",{className:"modal fade",id:"uploadCsvModal",tabIndex:-1,"aria-labelledby":"uploadCsvModalLabel","aria-hidden":"true",children:Object(A.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("h5",{className:"modal-title",id:"uploadCsvModalLabel",children:"Upload CSV"}),Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"file",children:"File"}),Object(A.jsx)("input",{type:"file",className:"form-control-file",id:"file",onChange:function(e){var t,a,c;return c=null===(t=e.target)||void 0===t||null===(a=t.files)||void 0===a?void 0:a[0],(null===m||void 0===m?void 0:m.file)&&p(Object(j.a)(Object(j.a)({},m),{},{file:void 0})),void l(c)}}),Object(A.jsx)("small",{id:"fileHelpBlock",className:"form-text text-muted",children:"File must be .csv < 2Mb size"})]}),Object(A.jsxs)("button",{type:"button",className:"btn btn-link mb-3",onClick:function(){return h.apply(this,arguments)},children:[Object(A.jsx)(G.a,{icon:J.e,size:"1x",className:"mr-1"}),"Download sample"]}),Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-around form-group mb-0",children:[Object(A.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",children:"Cancel"}),Object(A.jsx)("button",{type:"submit",className:"btn btn-success",children:"Upload"})]})]})})]})})})},ve=function(){var e=Object(c.useContext)(Z).pagination,t=Object(c.useCallback)((function(){W()("#uploadCsvModal").modal("show")}),[]),a=Object(c.useCallback)((function(){return e.total||0}),[e]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Q,{}),Object(A.jsxs)("main",{className:"container",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(A.jsxs)("h4",{className:"mb-0",children:["Uploads List",Object(A.jsx)("span",{className:"badge bg-secondary ml-2",children:a()})]}),Object(A.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-wrap",children:Object(A.jsxs)("button",{className:"btn btn-secondary m-1",onClick:t,children:[Object(A.jsx)(G.a,{icon:J.l,size:"1x",className:"mr-1"}),"New"]})})]}),Object(A.jsx)(he,{})]}),Object(A.jsx)(xe,{})]})},fe=a(95),ge=function(e){var t=e.isPrivate,a=void 0!==t&&t,n=e.isGuest,s=void 0!==n&&n,r=e.component,l=Object(fe.a)(e,["isPrivate","isGuest","component"]),o=Object(c.useContext)(B).logged;return Object(A.jsx)(i.b,Object(j.a)(Object(j.a)({},l),{},{render:function(e){var t=e.location;return s&&o?Object(A.jsx)(i.a,{to:{pathname:"/",state:{from:t}}}):a&&!o?Object(A.jsx)(i.a,{to:{pathname:"login",state:{from:t}}}):Object(A.jsx)(r,{})}}))},Ne=function(){return Object(A.jsxs)(i.d,{children:[Object(A.jsx)(ge,{path:"/login",exact:!0,component:X,isGuest:!0}),Object(A.jsx)(ge,{path:"/",exact:!0,component:pe,isPrivate:!0}),Object(A.jsx)(ge,{path:"/uploads",exact:!0,component:ve,isPrivate:!0})]})};a(245),a(246),a(247);x.a.defaults.withCredentials=!0,x.a.defaults.headers={Accept:"application/json"},O.a.configure({position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var ke=function(){return Object(A.jsx)(l.a,{children:Object(A.jsx)(K,{children:Object(A.jsx)(ee,{children:Object(A.jsx)(ae,{children:Object(A.jsx)(ue,{children:Object(A.jsx)(Ne,{})})})})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,251)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(ke,{})}),document.getElementById("root")),we()}},[[248,1,2]]]);
//# sourceMappingURL=main.1d48914a.chunk.js.map